.glitch-wrap {
  position: fixed; inset: 0; pointer-events: none; z-index: 1;
  --glitch-intensity: 0; /* 0..1 */
}
.glitch-noise {
  position: absolute; inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  opacity: calc(var(--glitch-intensity) * 0.13);
  mix-blend-mode: overlay;
  animation: n 2.2s steps(2,end) infinite;
}
@keyframes n { 50% { transform: translate3d(0, -1px, 0) } }

.glitch-scanlines {
  position: absolute; inset: 0;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.03), rgba(255,255,255,0.03) 1px,
    transparent 2px, transparent 4px
  );
  opacity: calc(var(--glitch-intensity) * 0.9);
}

.glitch-chroma::before,
.glitch-chroma::after {
  content: ''; position: absolute; inset: 0; pointer-events: none;
  background: inherit; mix-blend-mode: screen;
  filter: blur(0.7px);
  transform: translate3d(0,0,0);
}
.glitch-chroma::before { box-shadow: 0 0 0 rgba(0,255,200,0.0); }
.glitch-chroma::after  { box-shadow: 0 0 0 rgba(255,0,120,0.0); }

.glitch-wrap { will-change: transform; }
